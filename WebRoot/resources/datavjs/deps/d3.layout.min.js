(function(){function ea(a){var b=a.source,a=a.target,c;var e=a;if(b===e)c=b;else{c=O(b);for(var e=O(e),f=c.pop(),h=e.pop(),g=null;f===h;)g=f,f=c.pop(),h=e.pop();c=g}for(e=[b];b!==c;)b=b.parent,e.push(b);for(b=e.length;a!==c;)e.splice(b,0,a),a=a.parent;return e}function O(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function P(a){a.fixed|=2}function fa(a){a!==s&&(a.fixed&=1)}function ga(){Q();s.fixed&=1;D=s=null}function Q(){s.px=d3.event.x;s.py=d3.event.y;D.resume()} function R(a,b,c){var e=0,f=0;a.charge=0;if(!a.leaf)for(var h=a.nodes,g=h.length,i=-1,k;++i<g;)k=h[i],null!=k&&(R(k,b,c),a.charge+=k.charge,e+=k.charge*k.cx,f+=k.charge*k.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,e+=b*a.point.x,f+=b*a.point.y);a.cx=e/a.charge;a.cy=f/a.charge}function ha(){return 20}function ia(){return 1}function ja(a){return a.x}function ka(a){return a.y}function la(a,b,c){a.y0=b;a.y=c}function ma(a){for(var b= 1,c=0,e=a[0][1],f,h=a.length;b<h;++b)if((f=a[b][1])>e)c=b,e=f;return c}function na(a){return a.reduce(oa,0)}function oa(a,b){return a+b[1]}function pa(a,b){return S(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function S(a,b){for(var c=-1,e=+a[0],f=(a[1]-e)/b,h=[];++c<=b;)h[c]=f*c+e;return h}function qa(a){return[d3.min(a),d3.max(a)]}function u(a,b){d3.rebind(a,b,"sort","children","value");a.links=ra;a.nodes=function(b){J=!0;return(a.nodes=a)(b)};return a}function sa(a){return a.children}function ta(a){return a.value} function ua(a,b){return b.value-a.value}function ra(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(c){return{source:a,target:c}})}))}function va(a,b){return a.value-b.value}function K(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function T(a,b){a._pack_next=b;b._pack_prev=a}function U(a,b){var c=b.x-a.x,e=b.y-a.y,f=a.r+b.r;return 0.001<f*f-c*c-e*e}function wa(a){function b(a){c=Math.min(a.x-a.r,c);e=Math.max(a.x+a.r,e);f=Math.min(a.y- a.r,f);h=Math.max(a.y+a.r,h)}var c=Infinity,e=-Infinity,f=Infinity,h=-Infinity,g=a.length,i,k,l,j,m;a.forEach(xa);i=a[0];i.x=-i.r;i.y=0;b(i);if(1<g&&(k=a[1],k.x=k.r,k.y=0,b(k),2<g)){l=a[2];V(i,k,l);b(l);K(i,l);i._pack_prev=l;K(l,k);k=i._pack_next;for(var n=3;n<g;n++){V(i,k,l=a[n]);var o=0,p=1,q=1;for(j=k._pack_next;j!==k;j=j._pack_next,p++)if(U(j,l)){o=1;break}if(1==o)for(m=i._pack_prev;m!==j._pack_prev&&!U(m,l);m=m._pack_prev,q++);o?(p<q||p==q&&k.r<i.r?T(i,k=j):T(i=m,k),n--):(K(i,l),k=l,b(l))}}i= (c+e)/2;k=(f+h)/2;for(n=l=0;n<g;n++)j=a[n],j.x-=i,j.y-=k,l=Math.max(l,j.r+Math.sqrt(j.x*j.x+j.y*j.y));a.forEach(ya);return l}function xa(a){a._pack_next=a._pack_prev=a}function ya(a){delete a._pack_next;delete a._pack_prev}function W(a){var b=a.children;b&&b.length?(b.forEach(W),a.r=wa(b)):a.r=Math.sqrt(a.value)}function X(a,b,c,e){var f=a.children;a.x=b+=e*a.x;a.y=c+=e*a.y;a.r*=e;if(f)for(var a=-1,h=f.length;++a<h;)X(f[a],b,c,e)}function V(a,b,c){var e=a.r+c.r,f=b.x-a.x,h=b.y-a.y;if(e&&(f||h)){var g= b.r+c.r,b=Math.sqrt(f*f+h*h),i=Math.max(-1,Math.min(1,(e*e+b*b-g*g)/(2*e*b))),g=Math.acos(i),b=i*(e/=b),e=Math.sin(g)*e;c.x=a.x+b*f+e*h;c.y=a.y+b*h-e*f}else c.x=a.x+e,c.y=a.y}function za(a){return 1+d3.max(a,function(a){return a.y})}function Aa(a){return a.reduce(function(a,c){return a+c.x},0)/a.length}function Y(a){var b=a.children;return b&&b.length?Y(b[0]):a}function Z(a){var b=a.children,c;return b&&(c=b.length)?Z(b[c-1]):a}function $(a,b){return a.parent==b.parent?1:2}function L(a){var b=a.children; return b&&b.length?b[0]:a._tree.thread}function M(a){var b=a.children,c;return b&&(c=b.length)?b[c-1]:a._tree.thread}function v(a,b){var c=a.children;if(c&&(f=c.length))for(var e,f,h=-1;++h<f;)if(0<b(e=v(c[h],b),a))a=e;return a}function Ba(a,b){return a.x-b.x}function Ca(a,b){return b.x-a.x}function Da(a,b){return a.depth-b.depth}function B(a,b){function c(a,f){var h=a.children;if(h&&(l=h.length))for(var g,i=null,k=-1,l;++k<l;)g=h[k],c(g,i),i=g;b(a,f)}c(a,null)}function N(a){return{x:a.x,y:a.y,dx:a.dx, dy:a.dy}}function aa(a,b){var c=a.x+b[3],e=a.y+b[0],f=a.dx-b[1]-b[3],h=a.dy-b[0]-b[2];0>f&&(c+=f/2,f=0);0>h&&(e+=h/2,h=0);return{x:c,y:e,dx:f,dy:h}}d3.layout={};d3.layout.bundle=function(){return function(a){for(var b=[],c=-1,e=a.length;++c<e;)b.push(ea(a[c]));return b}};d3.layout.chord=function(){function a(){var a={},c=[],o=d3.range(g),p=[],q,r,C,t,x;e=[];f=[];q=0;for(t=-1;++t<g;){r=0;for(x=-1;++x<g;)r+=h[t][x];c.push(r);p.push(d3.range(g));q+=r}k&&o.sort(function(a,b){return k(c[a],c[b])});l&& p.forEach(function(a,b){a.sort(function(a,c){return l(h[b][a],h[b][c])})});q=(2*Math.PI-i*g)/q;r=0;for(t=-1;++t<g;){C=r;for(x=-1;++x<g;){var F=o[t],A=p[F][x],E=h[F][A],Ea=r,Fa=r+=E*q;a[F+"-"+A]={index:F,subindex:A,startAngle:Ea,endAngle:Fa,value:E}}f.push({index:F,startAngle:C,endAngle:r,value:(r-C)/q});r+=i}for(t=-1;++t<g;)for(x=t-1;++x<g;)if(o=a[t+"-"+x],p=a[x+"-"+t],o.value||p.value)e.push(o.value<p.value?{source:p,target:o}:{source:o,target:p});j&&b()}function b(){e.sort(function(a,b){return j((a.source.value+ a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},e,f,h,g,i=0,k,l,j;c.matrix=function(a){if(!arguments.length)return h;g=(h=a)&&h.length;e=f=null;return c};c.padding=function(a){if(!arguments.length)return i;i=a;e=f=null;return c};c.sortGroups=function(a){if(!arguments.length)return k;k=a;e=f=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return l;l=a;e=null;return c};c.sortChords=function(a){if(!arguments.length)return j;j=a;e&&b();return c};c.chords=function(){e|| a();return e};c.groups=function(){f||a();return f};return c};d3.layout.force=function(){function a(a){return function(b,c,h,e){if(b.point!==a){var h=b.cx-a.x,f=b.cy-a.y,g=1/Math.sqrt(h*h+f*f);if((e-c)*g<o)return c=b.charge*g*g,a.px-=h*c,a.py-=f*c,!0;b.point&&isFinite(g)&&(c=b.pointCharge*g*g,a.px-=h*c,a.py-=f*c)}return!b.charge}}function b(){var b=p.length,c=q.length,e,g,o,l,j,y,z;for(e=0;e<c;++e)if(g=q[e],o=g.source,l=g.target,y=l.x-o.x,z=l.y-o.y,j=y*y+z*z)j=i*C[e]*((j=Math.sqrt(j))-r[e])/j,y*=j, z*=j,l.x-=y*(j=o.weight/(l.weight+o.weight)),l.y-=z*j,o.x+=y*(j=1-j),o.y+=z*j;if(j=i*n)if(y=h[0]/2,z=h[1]/2,e=-1,j)for(;++e<b;)g=p[e],g.x+=(y-g.x)*j,g.y+=(z-g.y)*j;if(m){R(c=d3.geom.quadtree(p),i,t);for(e=-1;++e<b;)(g=p[e]).fixed||c.visit(a(g))}for(e=-1;++e<b;)g=p[e],g.fixed?(g.x=g.px,g.y=g.py):(g.x-=(g.px-(g.px=g.x))*k,g.y-=(g.py-(g.py=g.y))*k);f.tick({type:"tick",alpha:i});return 0.005>(i*=0.99)}function c(a){P(s=a);D=e}var e={},f=d3.dispatch("tick"),h=[1,1],g,i,k=0.9,l=ha,j=ia,m=-30,n=0.1,o=0.8, p=[],q=[],r,C,t;e.nodes=function(a){if(!arguments.length)return p;p=a;return e};e.links=function(a){if(!arguments.length)return q;q=a;return e};e.size=function(a){if(!arguments.length)return h;h=a;return e};e.linkDistance=function(a){if(!arguments.length)return l;l=d3.functor(a);return e};e.distance=e.linkDistance;e.linkStrength=function(a){if(!arguments.length)return j;j=d3.functor(a);return e};e.friction=function(a){if(!arguments.length)return k;k=a;return e};e.charge=function(a){if(!arguments.length)return m; m="function"===typeof a?a:+a;return e};e.gravity=function(a){if(!arguments.length)return n;n=a;return e};e.theta=function(a){if(!arguments.length)return o;o=a;return e};e.start=function(){function a(e,h){var i;if(!k){k=[];for(c=0;c<g;++c)k[c]=[];for(c=0;c<f;++c)i=q[c],k[i.source.index].push(i.target),k[i.target.index].push(i.source)}i=k[b];for(var o=-1,j=i.length,l;++o<j;)if(!isNaN(l=i[o][e]))return l;return Math.random()*h}var b,c,g=p.length,f=q.length,i=h[0],o=h[1],k,n;for(b=0;b<g;++b)(n=p[b]).index= b,n.weight=0;r=[];C=[];for(b=0;b<f;++b)n=q[b],"number"==typeof n.source&&(n.source=p[n.source]),"number"==typeof n.target&&(n.target=p[n.target]),r[b]=l.call(this,n,b),C[b]=j.call(this,n,b),++n.source.weight,++n.target.weight;for(b=0;b<g;++b)if(n=p[b],isNaN(n.x)&&(n.x=a("x",i)),isNaN(n.y)&&(n.y=a("y",o)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py))n.py=n.y;t=[];if("function"===typeof m)for(b=0;b<g;++b)t[b]=+m.call(this,p[b],b);else for(b=0;b<g;++b)t[b]=m;return e.resume()};e.resume=function(){i=0.1;d3.timer(b); return e};e.stop=function(){i=0;return e};e.drag=function(){g||(g=d3.behavior.drag().origin(Object).on("dragstart",c).on("drag",Q).on("dragend",ga));this.on("mouseover.force",P).on("mouseout.force",fa).call(g)};return d3.rebind(e,f,"on")};var D,s;d3.layout.partition=function(){function a(b,c,e,f){var l=b.children;b.x=c;b.y=b.depth*f;b.dx=e;b.dy=f;if(l&&(m=l.length))for(var j=-1,m,n,e=b.value?e/b.value:0;++j<m;)a(n=l[j],c,b=n.value*e,f),c+=b}function b(a){var a=a.children,c=0;if(a&&(f=a.length))for(var e= -1,f;++e<f;)c=Math.max(c,b(a[e]));return 1+c}function c(c,g){var i=e.call(this,c,g);a(i[0],0,f[0],f[1]/b(i[0]));return i}var e=d3.layout.hierarchy(),f=[1,1];c.size=function(a){if(!arguments.length)return f;f=a;return c};return u(c,e)};d3.layout.pie=function(){function a(h,g){var i=h.map(function(c,e){return+b.call(a,c,e)}),k=+("function"===typeof e?e.apply(this,arguments):e),l=(("function"===typeof f?f.apply(this,arguments):f)-e)/d3.sum(i),j=d3.range(h.length);null!=c&&j.sort(c===ba?function(a,b){return i[b]- i[a]}:function(a,b){return c(h[a],h[b])});var m=[];j.forEach(function(a){m[a]={data:h[a],value:d=i[a],startAngle:k,endAngle:k+=d*l}});return m}var b=Number,c=ba,e=0,f=2*Math.PI;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.startAngle=function(b){if(!arguments.length)return e;e=b;return a};a.endAngle=function(b){if(!arguments.length)return f;f=b;return a};return a};var ba={};d3.layout.stack=function(){function a(i,k){var l= i.map(function(c,e){return b.call(a,c,e)}),j=l.map(function(b){return b.map(function(b,c){return[h.call(a,b,c),g.call(a,b,c)]})}),m=c.call(a,j,k),l=d3.permute(l,m),j=d3.permute(j,m),m=e.call(a,j,k),n=l.length,o=l[0].length,p,q,r;for(q=0;q<o;++q){f.call(a,l[0][q],r=m[q],j[0][q][1]);for(p=1;p<n;++p)f.call(a,l[p][q],r+=j[p-1][q][1],j[p][q][1])}return i}var b=Object,c=ca["default"],e=da.zero,f=la,h=ja,g=ka;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=function(b){if(!arguments.length)return c; c="function"===typeof b?b:ca[b];return a};a.offset=function(b){if(!arguments.length)return e;e="function"===typeof b?b:da[b];return a};a.x=function(b){if(!arguments.length)return h;h=b;return a};a.y=function(b){if(!arguments.length)return g;g=b;return a};a.out=function(b){if(!arguments.length)return f;f=b;return a};return a};var ca={"inside-out":function(a){for(var b=a.length,c,e=a.map(ma),f=a.map(na),h=d3.range(b).sort(function(a,b){return e[a]-e[b]}),g=0,i=0,k=[],l=[],a=0;a<b;++a)c=h[a],g<i?(g+= f[c],k.push(c)):(i+=f[c],l.push(c));return l.reverse().concat(k)},reverse:function(a){return d3.range(a.length).reverse()},"default":function(a){return d3.range(a.length)}},da={silhouette:function(a){var b=a.length,c=a[0].length,e=[],f=0,h,g,i,k=[];for(g=0;g<c;++g){for(i=h=0;h<b;h++)i+=a[h][g][1];i>f&&(f=i);e.push(i)}for(g=0;g<c;++g)k[g]=(f-e[g])/2;return k},wiggle:function(a){var b=a.length,c=a[0],e=c.length,f,h,g,i,k,l,j,m,n,o=[];o[0]=m=n=0;for(h=1;h<e;++h){for(i=f=0;f<b;++f)i+=a[f][h][1];k=f=0; for(j=c[h][0]-c[h-1][0];f<b;++f){g=0;for(l=(a[f][h][1]-a[f][h-1][1])/(2*j);g<f;++g)l+=(a[g][h][1]-a[g][h-1][1])/j;k+=l*a[f][h][1]}o[h]=m-=i?k/i*j:0;m<n&&(n=m)}for(h=0;h<e;++h)o[h]-=n;return o},expand:function(a){var b=a.length,c=a[0].length,e=1/b,f,h,g,i=[];for(h=0;h<c;++h){for(g=f=0;f<b;f++)g+=a[f][h][1];if(g)for(f=0;f<b;f++)a[f][h][1]/=g;else for(f=0;f<b;f++)a[f][h][1]=e}for(h=0;h<c;++h)i[h]=0;return i},zero:function(a){for(var b=-1,a=a[0].length,c=[];++b<a;)c[b]=0;return c}};d3.layout.histogram= function(){function a(a,g){for(var i=[],k=a.map(c,this),l=e.call(this,k,g),j=f.call(this,l,k,g),m,g=-1,n=k.length,o=j.length-1,p=b?1:1/n;++g<o;)m=i[g]=[],m.dx=j[g+1]-(m.x=j[g]),m.y=0;for(g=-1;++g<n;)m=k[g],m>=l[0]&&m<=l[1]&&(m=i[d3.bisect(j,m,1,o)-1],m.y+=p,m.push(a[g]));return i}var b=!0,c=Number,e=qa,f=pa;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return e;e=d3.functor(b);return a};a.bins=function(b){if(!arguments.length)return f;f="number"=== typeof b?function(a){return S(a,b)}:d3.functor(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};d3.layout.hierarchy=function(){function a(b,i,k){var l=f.call(c,b,i),j=J?b:{data:b};j.depth=i;k.push(j);if(l&&(m=l.length)){for(var b=-1,m,n=j.children=[],o=0,i=i+1;++b<m;)d=a(l[b],i,k),d.parent=j,n.push(d),o+=d.value;e&&n.sort(e);h&&(j.value=o)}else h&&(j.value=+h.call(c,b,i)||0);return j}function b(a,e){var f=a.children,l=0;if(f&&(m=f.length))for(var j=-1,m, n=e+1;++j<m;)l+=b(f[j],n);else h&&(l=+h.call(c,J?a:a.data,e)||0);h&&(a.value=l);return l}function c(b){var c=[];a(b,0,c);return c}var e=ua,f=sa,h=ta;c.sort=function(a){if(!arguments.length)return e;e=a;return c};c.children=function(a){if(!arguments.length)return f;f=a;return c};c.value=function(a){if(!arguments.length)return h;h=a;return c};c.revalue=function(a){b(a,0);return a};return c};var J=!1;d3.layout.pack=function(){function a(a,f){var h=b.call(this,a,f),g=h[0];g.x=0;g.y=0;W(g);var i=c[0], k=c[1],l=1/Math.max(2*g.r/i,2*g.r/k);X(g,i/2,k/2,l);return h}var b=d3.layout.hierarchy().sort(va),c=[1,1];a.size=function(b){if(!arguments.length)return c;c=b;return a};return u(a,b)};d3.layout.cluster=function(){function a(a,h){var g=b.call(this,a,h),i=g[0],k,l=0;B(i,function(a){var b=a.children;b&&b.length?(a.x=Aa(b),a.y=za(b)):(a.x=k?l+=c(a,k):0,a.y=0,k=a)});var j=Y(i),m=Z(i),n=j.x-c(j,m)/2,o=m.x+c(m,j)/2;B(i,function(a){a.x=(a.x-n)/(o-n)*e[0];a.y=(1-(i.y?a.y/i.y:1))*e[1]});return g}var b=d3.layout.hierarchy().sort(null).value(null), c=$,e=[1,1];a.separation=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return e;e=b;return a};return u(a,b)};d3.layout.tree=function(){function a(a,h){function g(a,b){var e=a.children,f=a._tree;if(e&&(h=e.length)){for(var h,i=e[0],o,l=i,j,k=-1;++k<h;){j=e[k];g(j,o);var q=j;if(o){for(var p=q,n=q,m=q.parent.children[0],s=p._tree.mod,u=n._tree.mod,v=o._tree.mod,B=m._tree.mod,G=void 0;o=M(o),p=L(p),o&&p;){m=L(m);n=M(n);n._tree.ancestor=q;G=o._tree.prelim+ v-p._tree.prelim-s+c(o,p);if(0<G){var H=o._tree.ancestor.parent==q.parent?o._tree.ancestor:l,w=q,I=G,H=H._tree,w=w._tree,D=I/(w.number-H.number);H.change+=D;w.change-=D;w.shift+=I;w.prelim+=I;w.mod+=I;s+=G;u+=G}v+=o._tree.mod;s+=p._tree.mod;B+=m._tree.mod;u+=n._tree.mod}o&&!M(n)&&(n._tree.thread=o,n._tree.mod+=v-u);p&&!L(m)&&(m._tree.thread=p,m._tree.mod+=s-B,l=q)}o=j}h=e=0;k=a.children;for(q=k.length;0<=--q;)l=k[q]._tree,l.prelim+=e,l.mod+=e,e+=l.shift+(h+=l.change);i=0.5*(i._tree.prelim+j._tree.prelim); b?(f.prelim=b._tree.prelim+c(a,b),f.mod=f.prelim-i):f.prelim=i}else b&&(f.prelim=b._tree.prelim+c(a,b))}function i(a,b){a.x=a._tree.prelim+b;var c=a.children;if(c&&(f=c.length))for(var e=-1,f,b=b+a._tree.mod;++e<f;)i(c[e],b)}var k=b.call(this,a,h),l=k[0];B(l,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0}});g(l);i(l,-l._tree.prelim);var j=v(l,Ca),m=v(l,Ba),n=v(l,Da),o=j.x-c(j,m)/2,p=m.x+c(m,j)/2,q=n.depth||1;B(l,function(a){a.x=(a.x-o)/(p-o)*e[0];a.y= a.depth/q*e[1];delete a._tree});return k}var b=d3.layout.hierarchy().sort(null).value(null),c=$,e=[1,1];a.separation=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return e;e=b;return a};return u(a,b)};d3.layout.treemap=function(){function a(a,b){for(var c=-1,e=a.length,f,g;++c<e;)g=(f=a[c]).value*(0>b?0:b),f.area=isNaN(g)||0>=g?0:g}function b(c){var f=c.children;if(f&&f.length){var g=l(c),h=[],i=f.slice(),j=Infinity,k=Math.min(g.dx,g.dy);a(i,g.dx* g.dy/c.value);for(h.area=0;0<(c=i.length);){h.push(c=i[c-1]);h.area+=c.area;for(var c=k,m=h.area,A=void 0,E=0,s=Infinity,u=-1,v=h.length;++u<v;)if(A=h[u].area)A<s&&(s=A),A>E&&(E=A);m*=m;c*=c;(c=m?Math.max(c*E*n/m,m/(c*s*n)):Infinity)<=j?(i.pop(),j=c):(h.area-=h.pop().area,e(h,k,g,!1),k=Math.min(g.dx,g.dy),h.length=h.area=0,j=Infinity)}h.length&&(e(h,k,g,!0),h.length=h.area=0);f.forEach(b)}}function c(b){var f=b.children;if(f&&f.length){var g=l(b),h=f.slice(),i=[];a(h,g.dx*g.dy/b.value);for(i.area= 0;b=h.pop();)i.push(b),i.area+=b.area,null!=b.z&&(e(i,b.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);f.forEach(c)}}function e(a,b,c,e){var f=-1,h=a.length,i=c.x,l=c.y,j=b?g(a.area/b):0,k;if(b==c.dx){if(e||j>c.dy)j=c.dy;for(;++f<h;)k=a[f],k.x=i,k.y=l,k.dy=j,i+=k.dx=Math.min(c.x+c.dx-i,j?g(k.area/j):0);k.z=!0;k.dx+=c.x+c.dx-i;c.y+=j;c.dy-=j}else{if(e||j>c.dx)j=c.dx;for(;++f<h;)k=a[f],k.x=i,k.y=l,k.dx=j,l+=k.dy=Math.min(c.y+c.dy-l,j?g(k.area/j):0);k.z=!1;k.dy+=c.y+c.dy-l;c.x+=j;c.dx-=j}}function f(e){var e= m||h(e),f=e[0];f.x=0;f.y=0;f.dx=i[0];f.dy=i[1];m&&h.revalue(f);a([f],f.dx*f.dy/f.value);(m?c:b)(f);j&&(m=e);return e}var h=d3.layout.hierarchy(),g=Math.round,i=[1,1],k=null,l=N,j=!1,m,n=0.5*(1+Math.sqrt(5));f.size=function(a){if(!arguments.length)return i;i=a;return f};f.padding=function(a){function b(c){var e=a.call(f,c,c.depth);return null==e?N(c):aa(c,"number"===typeof e?[e,e,e,e]:e)}function c(b){return aa(b,a)}if(!arguments.length)return k;var e;l=null==(k=a)?N:"function"===(e=typeof a)?b:"number"=== e?(a=[a,a,a,a],c):c;return f};f.round=function(a){if(!arguments.length)return g!=Number;g=a?Math.round:Number;return f};f.sticky=function(a){if(!arguments.length)return j;j=a;m=null;return f};f.ratio=function(a){if(!arguments.length)return n;n=a;return f};return u(f,h)}})();